# –§–æ—Ä–º–∞—Ç rules.txt —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≥—Ä—É–ø–ø

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)

# –§–æ—Ä–º–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ_–ø—Ä–∞–≤–∏–ª–∞: –∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞ -> chat_id "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã", chat_id2 "–ù–∞–∑–≤–∞–Ω–∏–µ2" [case:on]

# –ü—Ä–∏–º–µ—Ä—ã:

# –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø–æ–π
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking -> -1001234567890 "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"

# –ù–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–ª–µ–≤—ã—Ö –≥—Ä—É–ø–ø
news: breaking, –Ω–æ–≤–æ—Å—Ç—å -> -1001234 "–ì–ª–∞–≤–Ω–∞—è", -1005678 "–†–µ–∑–µ—Ä–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞"

# Case-sensitive —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
admin: @Admin -> -1009999 "–ê–¥–º–∏–Ω—Å–∫–∞—è –≥—Ä—É–ø–ø–∞" [case:on]

# –ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã (–±—É–¥–µ—Ç "Unknown")
test: —Ç–µ—Å—Ç -> -1007777
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏

```python
rules = [
    {
        'name': 'urgent',
        'keywords': ['—Å—Ä–æ—á–Ω–æ', '–≤–∞–∂–Ω–æ', 'breaking'],
        'target_chats': [
            {
                'id': -1001234567890,
                'name': '–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏'
            }
        ],
        'case_sensitive': False
    },
    {
        'name': 'news',
        'keywords': ['breaking', '–Ω–æ–≤–æ—Å—Ç—å'],
        'target_chats': [
            {
                'id': -1001234,
                'name': '–ì–ª–∞–≤–Ω–∞—è'
            },
            {
                'id': -1005678,
                'name': '–†–µ–∑–µ—Ä–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞'
            }
        ],
        'case_sensitive': False
    }
]
```

---

## –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏

### –ü—Ä–∏–º–µ—Ä 1: –° –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
```
–í—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ -> -1001234 "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏", -1005678 "–†–µ–∑–µ—Ä–≤"

–ü–∞—Ä—Å–∏–Ω–≥:
1. –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ ':'  ‚Üí name='urgent', rest='—Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ -> ...'
2. –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ '->' ‚Üí keywords='—Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ', targets='-1001234 "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏", -1005678 "–†–µ–∑–µ—Ä–≤"'
3. –ü–∞—Ä—Å–∏–Ω–≥ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ ‚Üí ['—Å—Ä–æ—á–Ω–æ', '–≤–∞–∂–Ω–æ']
4. –ü–∞—Ä—Å–∏–Ω–≥ —Ü–µ–ª–µ–≤—ã—Ö —á–∞—Ç–æ–≤:
   - –ü–∞—Ç—Ç–µ—Ä–Ω: chat_id "–Ω–∞–∑–≤–∞–Ω–∏–µ"
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: [
       {'id': -1001234, 'name': '–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏'},
       {'id': -1005678, 'name': '–†–µ–∑–µ—Ä–≤'}
     ]
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π
```
–í—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:
test: —Ç–µ—Å—Ç -> -1007777

–†–µ–∑—É–ª—å—Ç–∞—Ç:
{
    'id': -1007777,
    'name': 'Unknown'  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É —Å –ø–µ—Ä–µ—Å—ã–ª–∫–æ–π:

```python
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:
/add_group urgent

# –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –≥—Ä—É–ø–ø—ã
async def handle_forwarded_message(event):
    # –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Ç–µ
    chat = await event.get_chat()
    
    chat_info = {
        'id': chat.id,
        'name': chat.title or chat.first_name or 'Unknown'
    }
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤ –ø—Ä–∞–≤–∏–ª–æ
    rule['target_chats'].append(chat_info)
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ rules.txt
    save_rules_to_file(rules)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ rules.txt:**
```
urgent: —Å—Ä–æ—á–Ω–æ -> -1001234567890 "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–æ–≤—ã–µ"
```

---

## –û—Ç–≤–µ—Ç—ã –∫–æ–º–∞–Ω–¥ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

### `/rules` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª

```
üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (3):

1Ô∏è‚É£ urgent_messages
   üìù –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking (3)
   üì§ –¶–µ–ª–µ–≤—ã–µ —á–∞—Ç—ã (2):
      ‚Ä¢ -1001234 - "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"
      ‚Ä¢ -1005678 - "–ì–ª–∞–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞"
   üî§ –†–µ–≥–∏—Å—Ç—Ä: –Ω–µ –≤–∞–∂–µ–Ω

2Ô∏è‚É£ trading_signals
   üìù –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: deal, price (2)
   üì§ –¶–µ–ª–µ–≤—ã–µ —á–∞—Ç—ã (1):
      ‚Ä¢ -1009999 - "–¢—Ä–µ–π–¥–∏–Ω–≥ —Å–∏–≥–Ω–∞–ª—ã"
   üî§ –†–µ–≥–∏—Å—Ç—Ä: –Ω–µ –≤–∞–∂–µ–Ω
```

### `/rule urgent` - –¥–µ—Ç–∞–ª–∏ –ø—Ä–∞–≤–∏–ª–∞

```
üìå –ü—Ä–∞–≤–∏–ª–æ: urgent_messages

üìù –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (3):
   ‚Ä¢ —Å—Ä–æ—á–Ω–æ
   ‚Ä¢ –≤–∞–∂–Ω–æ
   ‚Ä¢ breaking

üì§ –¶–µ–ª–µ–≤—ã–µ —á–∞—Ç—ã (2):
   ‚Ä¢ -1001234567890 - "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"
   ‚Ä¢ -1005678901234 - "–ì–ª–∞–≤–Ω–∞—è –≥—Ä—É–ø–ø–∞"

üî§ –£—á—ë—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞: –ù–ï–¢
‚úÖ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω–æ
```

### `/add_group` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
/add_group urgent
[–ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –≥—Ä—É–ø–ø—ã]

–û—Ç–≤–µ—Ç –±–æ—Ç–∞:
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —á–∞—Ç –≤ –ø—Ä–∞–≤–∏–ª–æ "urgent":
   ‚Ä¢ ID: -1001234567890
   ‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ: "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"

üì§ –¢–µ–ø–µ—Ä—å –≤ –ø—Ä–∞–≤–∏–ª–µ 3 —Ü–µ–ª–µ–≤—ã—Ö —á–∞—Ç–∞
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ)

### –ö–æ–º–∞–Ω–¥–∞ `/update_chat_names`

–û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –≤—Å–µ—Ö –≥—Ä—É–ø–ø –≤ rules.txt –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ:

```
/update_chat_names

–û—Ç–≤–µ—Ç:
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≥—Ä—É–ø–ø...

‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ:
   ‚Ä¢ -1001234: "–°—Ç–∞—Ä–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" ‚Üí "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"
   ‚Ä¢ -1005678: "–ì—Ä—É–ø–ø–∞ 1" ‚Üí "–°—É–ø–µ—Ä –≥—Ä—É–ø–ø–∞"

‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–ø—Ä–æ–ø—É—â–µ–Ω—ã):
   ‚Ä¢ -1009999: "–£–¥–∞–ª—ë–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞" (–±–æ—Ç –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ —á–∞—Ç–µ)

üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ rules.txt
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏.

---

## –ü—Ä–∏–º–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–≥–æ rules.txt

```
# –ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
# –§–æ—Ä–º–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ: –∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞ -> chat_id "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã"

# –°—Ä–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí –≤ –≥–ª–∞–≤–Ω—É—é –≥—Ä—É–ø–ø—É –∏ –ª–∏—á–Ω—ã–π —á–∞—Ç
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, –≤–Ω–∏–º–∞–Ω–∏–µ, breaking -> -1001234567890 "–í–∞–∂–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è", -1009876543210 "–õ–∏—á–Ω—ã–π —á–∞—Ç –∞–¥–º–∏–Ω–∞"

# –¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã ‚Üí –≤ –≥—Ä—É–ø–ø—É —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
trading: deal, price, buy, sell, —Å–¥–µ–ª–∫–∞ -> -1005555555555 "–¢—Ä–µ–π–¥–∏–Ω–≥ —Å–∏–≥–Ω–∞–ª—ã 2024"

# –ê–¥–º–∏–Ω—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
admin: @Admin, @admin -> -1007777777777 "–ê–¥–º–∏–Ω—Å–∫–∞—è –≥—Ä—É–ø–ø–∞" [case:on]

# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Üí –≤ IT –≥—Ä—É–ø–ø—É
tech: python, javascript, AI, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ -> -1008888888888 "IT & Development"

# –ì—Ä—É–ø–ø–∞ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è (–±—É–¥–µ—Ç "Unknown" –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ)
oldtest: test -> -1001111111111
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∫—É–¥–∞ –∏–¥—É—Ç —Å–æ–æ–±—â–µ–Ω–∏—è  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å ID  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏, –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É  
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - ID –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º  

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

> [!NOTE]
> - –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è **–û–î–ò–ù –†–ê–ó** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
> - –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è **–ù–ï –ü–†–û–í–ï–†–Ø–ï–¢–°–Ø** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
> - –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ Telegram - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ rules.txt **–ù–ï –û–ë–ù–û–í–õ–Ø–ï–¢–°–Ø** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
> - ID - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
> - –ù–∞–∑–≤–∞–Ω–∏–µ = —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞, –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ

> [!TIP]
> –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ rules.txt –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/update_chat_names` (–µ—Å–ª–∏ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ).
