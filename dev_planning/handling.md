# –í–∞—Ä–∏–∞–Ω—Ç—ã —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª–∞–º–∏

## –ó–∞–¥–∞—á–∞
–°–¥–µ–ª–∞—Ç—å —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –ø–µ—Ä–µ—Å—ã–ª–∫–∏, —Å–æ—Ö—Ä–∞–Ω—è—è –º–∏–Ω–∏–º–∞–ª–∏–∑–º.

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ö–æ–º–∞–Ω–¥—ã –≤ Telegram (Saved Messages)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç—É –≤ "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" (Saved Messages), –±–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç config.json.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–∞–Ω–¥

```
/add_rule urgent —Å—Ä–æ—á–Ω–æ,–≤–∞–∂–Ω–æ,–≤–Ω–∏–º–∞–Ω–∏–µ -> -1001234,-1005678
/add_rule trading deal,price,buy -> -1009999
/remove_rule urgent
/list_rules
/add_keyword urgent breaking
/remove_keyword urgent breaking
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞:**
```
/add_rule –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–µ_—Å–ª–æ–≤–æ1,—Å–ª–æ–≤–æ2,—Å–ª–æ–≤–æ3 -> chat_id1,chat_id2
```

–ü—Ä–∏–º–µ—Ä:
```
/add_rule urgent —Å—Ä–æ—á–Ω–æ,–≤–∞–∂–Ω–æ -> -1001234,-1005678
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:**
```
/add_keyword urgent breaking
```

**–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞:**
```
/remove_rule urgent
```

**–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª:**
```
/list_rules
```

–û—Ç–≤–µ—Ç:
```
üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

1. urgent_messages
   –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking
   –ü–µ—Ä–µ—Å—ã–ª–∞—Ç—å –≤: -1001234, -1005678
   
2. trading_signals
   –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: deal, price
   –ü–µ—Ä–µ—Å—ã–ª–∞—Ç—å –≤: -1009999
```

### ‚úÖ –ü–ª—é—Å—ã:
- –í—Å—ë –≤ Telegram, –Ω–µ –Ω—É–∂–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ë—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –≤ —á–∞—Ç–µ
- –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –ù—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–∞–Ω–¥
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ (~50-100 —Å—Ç—Ä–æ–∫)
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª —Å—Ä–∞–∑—É

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª rules.txt

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–†—è–¥–æ–º —Å config.json —Å–æ–∑–¥–∞—ë–º `rules.txt` —Å —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º. –ë–æ—Ç —á–∏—Ç–∞–µ—Ç –µ–≥–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∞–π–ª–∞

```
# rules.txt - –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏

[urgent_messages]
keywords = —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, –≤–Ω–∏–º–∞–Ω–∏–µ, breaking
target = -1001234, -1005678
case_sensitive = false

[trading_signals]
keywords = deal, price, buy, sell
target = -1009999
case_sensitive = false

[admin_alerts]
keywords = @admin, –ø–æ–º–æ—â—å
target = -1007777, -1008888
case_sensitive = true
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–µ—â—ë –ø—Ä–æ—â–µ)

```
# –§–æ—Ä–º–∞—Ç: –∏–º—è_–ø—Ä–∞–≤–∏–ª–∞: –∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞ -> —Ü–µ–ª–µ–≤—ã–µ_—á–∞—Ç—ã

urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking -> -1001234, -1005678
trading: deal, price, buy -> -1009999
admin: @admin, –ø–æ–º–æ—â—å -> -1007777, -1008888 [case:on]
```

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å `rules.txt` –≤ –ª—é–±–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—à—å –±–æ—Ç–∞: `sudo systemctl restart tlgbot`
3. –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ–º–∞–Ω–¥—É `/reload_rules` –≤ Saved Messages

### ‚úÖ –ü–ª—é—Å—ã:
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
- –õ–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª —Å—Ä–∞–∑—É
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- –£–¥–æ–±–Ω–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å (git)
- –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞ (~30 —Å—Ç—Ä–æ–∫ –ø–∞—Ä—Å–µ—Ä–∞)

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É (–∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–∞)
- –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É reload

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
`rules.txt` + –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ –≤ Telegram

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

**rules.txt** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ -> -1001234, -1005678
trading: deal, price -> -1009999
```

**–ö–æ–º–∞–Ω–¥—ã –≤ Telegram** - –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–∞–≤–æ–∫:
```
/reload_rules          # –ü–µ—Ä–µ—á–∏—Ç–∞—Ç—å rules.txt
/add_rule_quick urgent breaking  # –ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
/test_message —Å—Ä–æ—á–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å    # –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—Ä–∞–±–æ—Ç–∞—é—Ç
```

### ‚úÖ –ü–ª—é—Å—ã:
- –ì–∏–±–∫–æ—Å—Ç—å: –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ —É–¥–æ–±–Ω–æ
- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Telegram
- –ú–∞—Å—Å–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–æ —ç—Ç–æ –∏ –ø–ª—é—Å)

---

## –í–∞—Ä–∏–∞–Ω—Ç 4: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ (wizard)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å `/create_rule` –∏ –±–æ—Ç –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –≤ –¥–∏–∞–ª–æ–≥–µ.

### –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞

```
–í—ã: /create_rule

–ë–æ—Ç: üìù –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞

     –®–∞–≥ 1/4: –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: urgent_news)
     
–í—ã: urgent_news

–ë–æ—Ç: ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ: urgent_news
     
     –®–∞–≥ 2/4: –í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
     
–í—ã: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking

–ë–æ—Ç: ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking
     
     –®–∞–≥ 3/4: –ü–µ—Ä–µ—à–ª–∏—Ç–µ –º–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –¶–ï–õ–ï–í–û–ô –≥—Ä—É–ø–ø—ã 
              (–∫—É–¥–∞ –±—É–¥—É—Ç –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è)
     
–í—ã: [–ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –≥—Ä—É–ø–ø—ã]

–ë–æ—Ç: ‚úÖ –¶–µ–ª–µ–≤–æ–π —á–∞—Ç: "–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏" (-1001234)
     
     –®–∞–≥ 4/4: –£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä? (–¥–∞/–Ω–µ—Ç)
     
–í—ã: –Ω–µ—Ç

–ë–æ—Ç: ‚úÖ –ü—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–æ!
     
     urgent_news
     ‚îú‚îÄ —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking
     ‚îú‚îÄ ‚Üí -1001234
     ‚îî‚îÄ case_sensitive: false
     
     –•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω —Ü–µ–ª–µ–≤–æ–π —á–∞—Ç? (–¥–∞/–Ω–µ—Ç)
```

### ‚úÖ –ü–ª—é—Å—ã:
- –û—á–µ–Ω—å —É–¥–æ–±–Ω–æ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
- –ù–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å chat_id (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø–µ—Ä–µ—Å—ã–ª–∫–µ)
- –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, —Å–ª–æ–∂–Ω–æ –æ—à–∏–±–∏—Ç—å—Å—è
- –í—Å—ë –≤ Telegram

### ‚ùå –ú–∏–Ω—É—Å—ã:
- –ú–Ω–æ–≥–æ –∫–æ–¥–∞ (~100-150 —Å—Ç—Ä–æ–∫)
- –î–æ–ª–≥–æ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞

---

## –í–∞—Ä–∏–∞–Ω—Ç 5: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–ü—Ä–æ—Å—Ç–æ–π HTML + Flask –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ

### ‚ùå –ü–æ—á–µ–º—É –ù–ï–¢:
- –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª–∏–∑–º–∞
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω—É–∂–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

---

## üèÜ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### –î–ª—è –Ω–∞—á–∞–ª–∞: **–í–∞—Ä–∏–∞–Ω—Ç 2 (rules.txt)**

**–ü—Ä–∏—á–∏–Ω—ã:**
1. ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º (~30 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
2. ‚úÖ –°—É–ø–µ—Ä-–ø–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
3. ‚úÖ –ë—ã—Å—Ç—Ä–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
4. ‚úÖ –õ–µ–≥–∫–æ –±—ç–∫–∞–ø–∏—Ç—å –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å

**–§–æ—Ä–º–∞—Ç:**
```
# rules.txt

urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, breaking -> -1001234, -1005678
trading: deal, price, buy -> -1009999
admin: @admin, –ø–æ–º–æ—â—å -> -1007777 [case:on]
```

### –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç—å: **–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 3**

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä:**
- `/reload` - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å rules.txt
- `/rules` - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞
- `/test —Ç–µ–∫—Å—Ç` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—Ä–∞–±–æ—Ç–∞—é—Ç

---

## –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–í–∞—Ä–∏–∞–Ω—Ç 2 + –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
tlg_keywords_follower/
‚îú‚îÄ‚îÄ bot.py
‚îú‚îÄ‚îÄ config.json
‚îú‚îÄ‚îÄ rules.txt          ‚Üê –ù–û–í–´–ô –§–ê–ô–õ
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ queue/
```

### rules.txt —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)

# –§–æ—Ä–º–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ: –∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞ -> —Ü–µ–ª–µ–≤—ã–µ_—á–∞—Ç—ã [–æ–ø—Ü–∏–∏]

# –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ -> -1001234

# –ù–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–ª–µ–≤—ã—Ö —á–∞—Ç–æ–≤
news: breaking, –Ω–æ–≤–æ—Å—Ç—å -> -1001234, -1005678

# Case-sensitive
admin: @Admin -> -1009999 [case:on]

# –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

```

### –ö–æ–¥ –ø–∞—Ä—Å–µ—Ä–∞ rules.txt

```python
def parse_rules_txt(filename='rules.txt'):
    """–ü–∞—Ä—Å–∏—Ç rules.txt –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª"""
    if not os.path.exists(filename):
        return []
    
    rules = []
    
    with open(filename, 'r', encoding='utf-8') as f:
        for line_num, line in enumerate(f, 1):
            line = line.strip()
            
            # –ü—Ä–æ–ø—É—Å–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
            if not line or line.startswith('#'):
                continue
            
            try:
                # –ü–∞—Ä—Å–∏–Ω–≥: name: keywords -> targets [options]
                if ':' not in line or '->' not in line:
                    logging.warning(f"–°—Ç—Ä–æ–∫–∞ {line_num} –ø—Ä–æ–ø—É—â–µ–Ω–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç")
                    continue
                
                # –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ —á–∞—Å—Ç–∏
                name_part, rest = line.split(':', 1)
                keywords_part, targets_part = rest.split('->', 1)
                
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –æ–ø—Ü–∏–∏
                case_sensitive = False
                if '[case:on]' in targets_part:
                    case_sensitive = True
                    targets_part = targets_part.replace('[case:on]', '')
                
                # –ü–∞—Ä—Å–∏–º
                name = name_part.strip()
                keywords = [k.strip() for k in keywords_part.split(',')]
                targets = [int(t.strip()) for t in targets_part.split(',')]
                
                rules.append({
                    'name': name,
                    'keywords': keywords,
                    'target_chat_ids': targets,
                    'case_sensitive': case_sensitive
                })
                
            except Exception as e:
                logging.error(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏ {line_num}: {e}")
    
    return rules
```

### –ö–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ

```python
@client.on(events.NewMessage(from_users='me', pattern=r'^/\w+'))
async def handle_commands(event):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –≤ Saved Messages"""
    text = event.text
    
    # /reload - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å rules.txt
    if text == '/reload':
        config['rules'] = parse_rules_txt('rules.txt')
        await event.reply(f"‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã! –ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(config['rules'])} –ø—Ä–∞–≤–∏–ª")
    
    # /rules - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞
    elif text == '/rules':
        rules_text = format_rules_list(config['rules'])
        await event.reply(rules_text)
    
    # /test - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
    elif text.startswith('/test '):
        test_text = text[6:]
        matched = check_message_against_rules(test_text, config['rules'])
        if matched:
            result = format_test_result(matched)
        else:
            result = "‚ùå –ù–∏ –æ–¥–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ"
        await event.reply(result)
```

### –ü—Ä–∏–º–µ—Ä rules.txt –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
# –ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
# –§–æ—Ä–º–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ: –∫–ª—é—á–µ–≤—ã–µ_—Å–ª–æ–≤–∞ -> —Ü–µ–ª–µ–≤—ã–µ_—á–∞—Ç—ã

# –°—Ä–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí –≤ –≥–ª–∞–≤–Ω—É—é –≥—Ä—É–ø–ø—É –∏ –ª–∏—á–Ω—ã–π —á–∞—Ç
urgent: —Å—Ä–æ—á–Ω–æ, –≤–∞–∂–Ω–æ, –≤–Ω–∏–º–∞–Ω–∏–µ, breaking -> -1001234567890, -1009876543210

# –¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã ‚Üí –≤ –≥—Ä—É–ø–ø—É —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
trading: deal, price, buy, sell, —Å–¥–µ–ª–∫–∞ -> -1005555555555

# –ê–¥–º–∏–Ω—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞)
admin: @Admin, @admin -> -1007777777777 [case:on]

# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Üí –≤ IT –≥—Ä—É–ø–ø—É
tech: python, javascript, AI, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ -> -1008888888888
```

---

## ‚ú® –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 2 (rules.txt) + 3 –∫–æ–º–∞–Ω–¥—ã:**

1. üìÑ **rules.txt** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. üîÑ **`/reload`** - –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å rules.txt
3. üìã **`/rules`** - –ø–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞  
4. üß™ **`/test —Ç–µ–∫—Å—Ç`** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞ (+50-70 —Å—Ç—Ä–æ–∫ –≤—Å–µ–≥–æ)
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É–¥–æ–±—Å—Ç–≤–æ
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å chat_id (–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ /rules)

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:**
1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å `rules.txt` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∏–ª–∏ —á–µ—Ä–µ–∑ SFTP)
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å `/reload` –±–æ—Ç—É –≤ Saved Messages
3. –ì–æ—Ç–æ–≤–æ! ‚ú®
